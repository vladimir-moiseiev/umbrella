<div class="center-holder dashboard">

    <div class="ng-include: '../pages/dashboard/search.html'"></div>
    <div ng-if="persons.length == 0 && isSearching == false" class="well">
        <p class="text-center">Нет записей..</p>
    </div>

    <div ng-if="isSearching" class="well text-center">
        <p>Поиск...</p>
    </div>



    <table class="table table-striped table-hover" ng-if="isSearching == false && persons.length > 0">
        <thead>
            <tr>
                <th>ФИО</th>
                <th>Телефон</th>
                <th>ИНН</th>
                <th>Адрес</th>
                <th>Провайдер</th>
                <th>Добавлен</th>
                <th>Комментарии</th>
                <th></th>
            </tr>
        </thead>
        <tbody>
            <tr ng-repeat="person in persons" >
                <td>{{person.lastName}} {{person.firstName}} {{person.secondName}}</td>
                <td><div ng-repeat="phone in person.phones">{{phone}}</div></td>
                <td>{{person.identificationNumber}}</td>
                <td>{{person.city}}, {{person.street}} {{person.building}}, {{person.apartment}}</td>
                <td>{{person.provider}}</td>
                <td>{{person.createdDate | date:'dd-MM-yyyy' }}</td>
                <td><div ng-repeat="comment in person.comments">{{comment.date | date:'dd-MM-yyyy HH:mm' }} ({{comment.user}}): {{comment.text}}</div></td>
                <td class="add-holder"><button ng-click="openAddCommentDialog(person.id, person)"><span class="glyphicon glyphicon-plus" aria-hidden="true"></span></button></td>
            </tr>
        </tbody>
    </table>
</div>